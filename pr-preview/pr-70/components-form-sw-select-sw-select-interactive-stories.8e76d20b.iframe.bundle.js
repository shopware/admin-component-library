(self.webpackChunk_shopware_ag_meteor_component_library=self.webpackChunk_shopware_ag_meteor_component_library||[]).push([[41705],{"./src/components/form/sw-select/sw-select.interactive.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{TestClearSelections:function(){return TestClearSelections},TestRemovalOfSelectionByList:function(){return TestRemovalOfSelectionByList},TestRemoveSelectionByResultItem:function(){return TestRemoveSelectionByResultItem},VisualTestDisabled:function(){return VisualTestDisabled},VisualTestEnsureSingleSelectionWithoutLoadMore:function(){return VisualTestEnsureSingleSelectionWithoutLoadMore},VisualTestError:function(){return VisualTestError},VisualTestHighlightSearchTerm:function(){return VisualTestHighlightSearchTerm},VisualTestHint:function(){return VisualTestHint},VisualTestInherited:function(){return VisualTestInherited},VisualTestMultiSelect:function(){return VisualTestMultiSelect},VisualTestPrefix:function(){return VisualTestPrefix},VisualTestSingleSelection:function(){return VisualTestSingleSelection},VisualTestSuffix:function(){return VisualTestSuffix},__namedExportsOrder:function(){return __namedExportsOrder}});var _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/testing-library/dist/index.mjs"),_storybook_jest__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/jest/dist/esm/index.js"),_sw_select_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/form/sw-select/sw-select.vue"),_internal_test_helper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/_internal/test-helper.js"),_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/form/sw-select/sw-select.stories.js");__webpack_exports__.default={..._sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.default,title:"Interaction Tests/Form/sw-select",component:_sw_select_vue__WEBPACK_IMPORTED_MODULE_2__.Z};const TestRemovalOfSelectionByList=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();TestRemovalOfSelectionByList.storyName="Should remove selections through selection list",TestRemovalOfSelectionByList.args={value:["a","b","d"],enableMultiSelection:!0},TestRemovalOfSelectionByList.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(canvas.getByRole("textbox"));const popover=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(document.querySelector(".sw-popover__wrapper"));await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(popover.getByTestId("sw-select-option--a")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith(["b","d"])};const TestRemoveSelectionByResultItem=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();TestRemoveSelectionByResultItem.storyName="Should remove selection through result item",TestRemoveSelectionByResultItem.args={value:["a","b","d"],enableMultiSelection:!0},TestRemoveSelectionByResultItem.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(canvas.getAllByTestId("dismiss-label")[0]),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith(["b","d"])};const TestClearSelections=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();TestClearSelections.storyName="Should clear selections",TestClearSelections.args={value:["a","b","d"],enableMultiSelection:!0},TestClearSelections.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(canvas.getByTestId("select-clear-button")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith([])};const VisualTestSingleSelection=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestSingleSelection.storyName="Should single select",VisualTestSingleSelection.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.type(canvas.getByRole("textbox"),"A");let popover=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(document.querySelector(".sw-popover__wrapper"));await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(popover.getByTestId("sw-select-option--a")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.itemAdd).toHaveBeenCalledWith({id:1,value:"a",label:"Option A"}),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith("a"),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.getByRole("textbox").value).toBe(""),await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.type(canvas.getByRole("textbox"),"F"),popover=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(document.querySelector(".sw-popover__wrapper")),await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(popover.getByTestId("sw-select-option--f")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.itemAdd).toHaveBeenCalledWith({id:6,value:"f",label:"Option F"}),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith("f"),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.getByRole("textbox").value).toBe(""),await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.type(canvas.getByRole("textbox"),"FF"),popover=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(document.querySelector(".sw-popover__wrapper")),await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(popover.getByTestId("sw-select-option--ff")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.itemAdd).toHaveBeenCalledWith({id:7,value:"ff",label:"Option FF"}),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith("ff"),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.getByRole("textbox").value).toBe("")};const VisualTestMultiSelect=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestMultiSelect.storyName="Should multi select",VisualTestMultiSelect.args={enableMultiSelection:!0},VisualTestMultiSelect.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(canvas.getByRole("textbox"));let popover=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(document.querySelector(".sw-popover__wrapper"));await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(popover.getByTestId("sw-select-option--a")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.itemAdd).toHaveBeenCalledWith({id:1,value:"a",label:"Option A"}),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith(["a"]),await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(popover.getByTestId("sw-select-option--b")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.itemAdd).toHaveBeenCalledWith({id:2,value:"b",label:"Option B"}),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith(["a","b"]),await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(popover.getByTestId("sw-select-option--c")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.itemAdd).toHaveBeenCalledWith({id:3,value:"c",label:"Option C"}),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith(["a","b","c"]),await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(popover.getByTestId("sw-select-option--e")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.itemAdd).toHaveBeenCalledWith({id:5,value:"e",label:"Option E"}),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith(["a","b","c","e"]),await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(canvas.getByText("hidden")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.getByRole("textbox").value).toBe("")};const VisualTestPrefix=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestPrefix.storyName="Should display prefix",VisualTestPrefix.args={prefix:"prefix"},VisualTestPrefix.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.getByText(args.prefix)).toBeDefined()};const VisualTestSuffix=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestSuffix.storyName="Should display suffix",VisualTestSuffix.args={suffix:"suffix"},VisualTestSuffix.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.getByText(args.suffix)).toBeDefined()};const VisualTestHint=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestHint.storyName="Should display hint",VisualTestHint.args={hint:"hint"},VisualTestHint.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.getByText(args.hint)).toBeDefined()};const VisualTestDisabled=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestDisabled.storyName="Should disable",VisualTestDisabled.args={disabled:!0,value:["a","b","d"],enableMultiSelection:!0},VisualTestDisabled.play=async({canvasElement:canvasElement})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(canvas.getByRole("textbox"));const popover=document.querySelector(".sw-popover__wrapper");(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(popover).toBe(null)};const VisualTestError=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestError.storyName="Should display error",VisualTestError.args={error:{code:500,detail:"Error while saving!"}},VisualTestError.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.getByText(args.error.detail)).toBeDefined()};const VisualTestHighlightSearchTerm=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestHighlightSearchTerm.storyName="Should highlight search term",VisualTestHighlightSearchTerm.play=async({canvasElement:canvasElement})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.type(canvas.getByRole("textbox"),"A"),await(0,_internal_test_helper__WEBPACK_IMPORTED_MODULE_4__.e)((()=>1===document.getElementsByClassName("sw-select-result").length));let popover=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(document.querySelector(".sw-popover__wrapper"));(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(popover.getByText(((content,element)=>{const hasText=element=>"Option A"===element.textContent,elementHasText=hasText(element),childrenDontHaveText=Array.from(element?.children||[]).every((child=>!hasText(child)));return elementHasText&&childrenDontHaveText}))).toBeDefined()};const VisualTestInherited=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestInherited.storyName="Should trigger inheritance-remove event",VisualTestInherited.args={label:"Inherited",isInheritanceField:!0,isInherited:!0},VisualTestInherited.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(canvas.getByTestId("sw-inheritance-switch-icon")),await(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.inheritanceRemove).toHaveBeenCalledWith()};const VisualTestEnsureSingleSelectionWithoutLoadMore=_sw_select_stories__WEBPACK_IMPORTED_MODULE_3__.Default.bind();VisualTestEnsureSingleSelectionWithoutLoadMore.storyName="Should not show load more",VisualTestEnsureSingleSelectionWithoutLoadMore.play=async({canvasElement:canvasElement,args:args})=>{const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(canvasElement);await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.type(canvas.getByRole("textbox"),"Option long text");let popover=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.uh)(document.querySelector(".sw-popover__wrapper"));await _storybook_testing_library__WEBPACK_IMPORTED_MODULE_0__.mV.click(popover.getByTestId("sw-select-option--Longer value text")),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.itemAdd).toHaveBeenCalledWith({id:8,label:"Option long text",value:"Longer value text"}),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(args.change).toHaveBeenCalledWith("Longer value text"),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.getByRole("textbox").value).toBe(""),(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_1__.l)(canvas.queryByText("+12")).toBeNull()};const __namedExportsOrder=["TestRemovalOfSelectionByList","TestRemoveSelectionByResultItem","TestClearSelections","VisualTestSingleSelection","VisualTestMultiSelect","VisualTestPrefix","VisualTestSuffix","VisualTestHint","VisualTestDisabled","VisualTestError","VisualTestHighlightSearchTerm","VisualTestInherited","VisualTestEnsureSingleSelectionWithoutLoadMore"]},"./src/_internal/test-helper.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function waitUntilRendered(check){return new Promise(((resolve,reject)=>{const waitUntilElementLoad=(retryTime=0)=>{retryTime>100&&reject();check()?resolve():window.setTimeout((()=>waitUntilElementLoad(retryTime+1)),25)};waitUntilElementLoad()}))}__webpack_require__.d(__webpack_exports__,{e:function(){return waitUntilRendered}})},"?4f7e":function(){}}]);